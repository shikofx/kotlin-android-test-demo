= Интеграция Android Lint в CI/CD

**Цель:** Интегрировать официальный статический анализатор для Android — **Lint**. Он помогает находить структурные проблемы в коде, которые могут повлиять на надежность, производительность и безопасность приложения.

== Логика работы в CI

Анализ Lint, как и другие анализаторы, является частью задачи `build_and_analyze`.

. **Конфигурация:**
+
Настройки Lint находятся в файле `gradle/lint.gradle`. Ключевые параметры:
+
*   `abortOnError false`: Сборка не будет падать при обнаружении ошибок. Это позволяет CI-пайплайну продолжать работу и публиковать отчеты.
*   `baseline file("lint-baseline.xml")`: Указывает на файл с "базовым уровнем" ошибок.

. **Запуск анализатора:**
+
[source,yaml]
----
- name: Run Static Analysis (Android Lint)
  run: ./gradlew app:lintDebug
----

. **Публикация отчета:**
+
HTML-отчет Lint, как и отчеты других анализаторов, автоматически публикуется на GitHub Pages и становится доступен по ссылке на общей странице отчетов.

== Baseline (Базовый уровень ошибок)

Одной из самых мощных возможностей Lint является использование **baseline**. Это XML-файл (`app/lint-baseline.xml`), который содержит список всех ошибок, уже существующих в проекте на момент его создания.

*Как это работает:*

. При запуске `lintDebug` анализатор сначала читает `lint-baseline.xml`.
. Все ошибки, которые уже перечислены в этом файле, **игнорируются** и не попадают в итоговый отчет.
. В отчет попадают **только новые ошибки**, которые появились в коде после создания baseline.

Это позволяет команде договориться "не создавать новых проблем", а старые (технический долг) исправлять постепенно.

*Как обновить baseline:*

1.  Исправьте одну или несколько ошибок в коде.
2.  Запустите `./gradlew app:lintDebug` для генерации нового, "чистого" отчета.
3.  Выполните команду `cp app/build/reports/lint-results-debug.xml app/lint-baseline.xml`, чтобы обновить baseline.
4.  Закоммитьте и исправленный код, и обновленный `lint-baseline.xml`.