= Nginx –∫–∞–∫ –æ–±—Ä–∞—Ç–Ω—ã–π –ø—Ä–æ–∫—Å–∏ (Reverse Proxy)

// tag::main[]
–í –Ω–∞—à–µ–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–µ Nginx –≤—ã–ø–æ–ª–Ω—è–µ—Ç —Ä–æ–ª—å **–æ–±—Ä–∞—Ç–Ω–æ–≥–æ –ø—Ä–æ–∫—Å–∏**. –≠—Ç–æ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ü–µ–ø—Ü–∏—è, –∫–æ—Ç–æ—Ä—É—é –≤–∞–∂–Ω–æ –ø–æ–Ω–∏–º–∞—Ç—å.

== –ß—Ç–æ —Ç–∞–∫–æ–µ –æ–±—Ä–∞—Ç–Ω—ã–π –ø—Ä–æ–∫—Å–∏?

**–û–±—Ä–∞—Ç–Ω—ã–π –ø—Ä–æ–∫—Å–∏** ‚Äî —ç—Ç–æ —Å–µ—Ä–≤–µ—Ä, –∫–æ—Ç–æ—Ä—ã–π –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –º–µ–∂–¥—É –∫–æ–Ω–µ—á–Ω—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º (–±—Ä–∞—É–∑–µ—Ä–æ–º) –∏ –≤–∞—à–∏–º–∏ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏ (GitLab, MinIO –∏ —Ç.–¥.). –û–Ω –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –≤—Å–µ –≤—Ö–æ–¥—è—â–∏–µ –∑–∞–ø—Ä–æ—Å—ã –∏–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞ –∏, –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∑–∞–ø—Ä–æ—à–µ–Ω–Ω–æ–≥–æ –¥–æ–º–µ–Ω–∞, –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç –∏—Ö –Ω–∞ –Ω—É–∂–Ω—ã–π —Å–µ—Ä–≤–∏—Å.

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ–±—â–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ —Å Nginx, –Ω–µ –∑–Ω–∞—è, –∫–∞–∫–∏–µ –∏–º–µ–Ω–Ω–æ —Å–µ—Ä–≤–∏—Å—ã —Ä–∞–±–æ—Ç–∞—é—Ç "–∑–∞ –Ω–∏–º".

== –ó–∞—á–µ–º —ç—Ç–æ –Ω—É–∂–Ω–æ –≤ –Ω–∞—à–µ–º –ø—Ä–æ–µ–∫—Ç–µ?

. **–ï–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞:** –í—Å–µ –Ω–∞—à–∏ —Å–µ—Ä–≤–∏—Å—ã –¥–æ—Å—Ç—É–ø–Ω—ã —á–µ—Ä–µ–∑ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –ø–æ—Ä—Ç—ã 80 (HTTP) –∏ 443 (HTTPS). Nginx ‚Äî –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π, –∫—Ç–æ —Å–ª—É—à–∞–µ—Ç —ç—Ç–∏ –ø–æ—Ä—Ç—ã, —á—Ç–æ —Ä–µ—à–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º—É "–ø–æ—Ä—Ç —É–∂–µ –∑–∞–Ω—è—Ç".

. **–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ SSL/TLS:** Nginx –±–µ—Ä–µ—Ç –Ω–∞ —Å–µ–±—è –≤—Å—é —Ä–∞–±–æ—Ç—É —Å HTTPS. –û–Ω "—Ç–µ—Ä–º–∏–Ω–∏—Ä—É–µ—Ç" SSL-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ, —Ç–æ –µ—Å—Ç—å —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤—ã–≤–∞–µ—Ç –∑–∞–ø—Ä–æ—Å –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –µ–≥–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–º—É —Å–µ—Ä–≤–∏—Å—É –ø–æ –æ–±—ã—á–Ω–æ–º—É, –Ω–µ–∑–∞—â–∏—â–µ–Ω–Ω–æ–º—É HTTP. –≠—Ç–æ —É–ø—Ä–æ—â–∞–µ—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é —Å–∞–º–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ (–∏–º –Ω–µ –Ω—É–∂–Ω–æ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å SSL).

. **–ì–∏–±–∫–∞—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è:** Nginx —Å–º–æ—Ç—Ä–∏—Ç –Ω–∞ –¥–æ–º–µ–Ω –≤ –∑–∞–ø—Ä–æ—Å–µ (`gitlab.<...>`, `s3.<...>` –∏–ª–∏ `allure.<...>`) –∏ —Ä–µ—à–∞–µ—Ç, –∫–∞–∫–æ–º—É –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–º—É —Å–µ—Ä–≤–∏—Å—É (—Ä–∞–±–æ—Ç–∞—é—â–µ–º—É –Ω–∞ –ø–æ—Ä—Ç—É `8081`, `9002` –∏–ª–∏ `5252`) –µ–≥–æ –ø–µ—Ä–µ–¥–∞—Ç—å.

. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:** –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ —Å–µ—Ä–≤–∏—Å—ã "—Å–ø—Ä—è—Ç–∞–Ω—ã" –æ—Ç –ø—Ä—è–º–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∏–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞.

== –ù–∞—à–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

[mermaid]
....
graph TD
    subgraph "–ò–Ω—Ç–µ—Ä–Ω–µ—Ç"
        Browser("üíª<br>–ë—Ä–∞—É–∑–µ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è")
    end

    subgraph "–°–µ—Ä–≤–µ—Ä (–•–æ—Å—Ç-–º–∞—à–∏–Ω–∞)"
        Nginx["Nginx<br>(–û–±—Ä–∞—Ç–Ω—ã–π –ø—Ä–æ–∫—Å–∏)"]
        subgraph "–í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ —Å–µ—Ä–≤–∏—Å—ã (Docker)"
            GitLab["GitLab<br>(localhost:8081)"]
            MinIO["MinIO<br>(localhost:9002)"]
            Allure["Allure TestOps<br>(localhost:5252)"]
        end
    end

    Browser -- "HTTPS (–ø–æ—Ä—Ç 443)" --> Nginx
    Nginx -- "HTTP (–ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ)" --> GitLab
    Nginx -- "HTTP (–ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ)" --> MinIO
    Nginx -- "HTTP (–ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ)" --> Allure
....
// end::main[]