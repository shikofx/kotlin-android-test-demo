# Урок 11: Решение проблем "500 Internal Server Error" и "Connection timed out"

Если вы столкнулись с ошибками `500 Internal Server Error` при доступе к веб-интерфейсу и `Connection timed out` при подключении по SSH, это почти наверняка указывает на проблемы в работе самого приложения GitLab на сервере.

```
# Ошибка при попытке клонировать
ssh_dispatch_run_fatal: Connection to ... port 22: Operation timed out
fatal: Could not read from remote repository.

# Ошибка в браузере или логах VS Code
Error: Bad status code: 500
```

`Connection timed out` (в отличие от `Connection refused`) означает, что сервер не отвечает на запросы, как будто он выключен или сетевые пакеты теряются. Ошибка `500` подтверждает, что веб-часть GitLab неисправна.

Чаще всего это происходит из-за нехватки оперативной памяти (GitLab требует минимум 4 ГБ ОЗУ) или сбоя одного из его внутренних сервисов.

## Диагностика и решение

Подключитесь к вашему серверу через **веб-консоль** в панели управления хостингом и выполните следующие шаги.

### Шаг 1: Проверка статуса служб GitLab

Эта команда покажет состояние всех компонентов GitLab (nginx, postgresql, redis, gitaly и т.д.).

```bash
sudo gitlab-ctl status
```

Если вы видите, что какие-то службы находятся в состоянии `down` или `fail`, это подтверждает наличие проблемы.

### Шаг 2: Просмотр логов (опционально)

Чтобы увидеть ошибки в реальном времени, выполните команду:

```bash
sudo gitlab-ctl tail
```

После этого попробуйте открыть веб-интерфейс GitLab. В консоли, скорее всего, появятся сообщения об ошибках, которые помогут понять причину сбоя.

### Шаг 3: Перезапуск GitLab

Это самое простое и часто работающее решение. Команда полностью перезапустит все сервисы GitLab.

```bash
sudo gitlab-ctl restart
```

Процесс может занять 2-5 минут. После его завершения подождите еще минуту и снова проверьте статус командой `sudo gitlab-ctl status`. Все службы должны быть в состоянии `run`.

После успешного перезапуска и проверки статуса попробуйте снова подключиться к GitLab по SSH и через браузер.