= Как сменить пароль администратора (root) в GitLab

Если вы пропустили первоначальное окно смены пароля или просто забыли его, вы можете сбросить пароль для пользователя `root` (или любого другого) вручную через консоль GitLab Rails.

Процедура немного отличается для Docker и Omnibus-установки.

== Способ 1: Для установки через Docker

. *Найдите имя вашего контейнера GitLab:*
+
[source,bash]
----
sudo docker ps
----
+
Имя будет примерно таким: `srv-gitlab-web-1`.

. *Войдите в консоль GitLab Rails внутри контейнера:*
+
[source,bash]
----
sudo docker exec -it <имя_контейнера> gitlab-rails console
----
+
Замените `<имя_контейнера>` на имя из предыдущего шага.

. *Выполните команды для смены пароля.* После того как консоль загрузится (появится `irb(main):001:0>`), введите следующие команды поочередно, нажимая `Enter` после каждой:
+
[source,ruby]
----
# Находим пользователя 'root'
user = User.find_by(username: 'root')

# Задаем новый пароль (замените 'YOUR_STRONG_PASSWORD' на свой)
user.password = 'YOUR_STRONG_PASSWORD'

# Подтверждаем пароль
user.password_confirmation = 'YOUR_STRONG_PASSWORD'

# Сохраняем изменения. Убедитесь, что команда вернет 'true'
user.save!

# Выходим из консоли
exit
----

== Способ 2: Для установки через Omnibus-пакет

. *Войдите в консоль GitLab Rails на сервере:*
+
[source,bash]
----
sudo gitlab-rails console
----
. *Выполните те же команды Ruby*, что и в шаге 3 для Docker-установки, чтобы сменить пароль.

После выполнения этих шагов вы сможете войти в GitLab с логином `root` и вашим новым паролем.