= Урок 4: Задачи статического анализа

На этом шаге мы добавим три задачи для статического анализа кода: `pmd`, `checkstyle` и `android_lint`. Они будут выполняться параллельно на стадии `analyse`.

== Что делают эти задачи?

*   *`stage: analyse`*: Все три задачи принадлежат к одной стадии, а значит, GitLab Runner запустит их одновременно (если у него достаточно ресурсов), что экономит время.
*   *`script`*: Каждая задача выполняет соответствующую команду Gradle для запуска анализатора (`./gradlew app:pmdDebug`, `./gradlew app:checkstyleDebug`, `./gradlew app:lintDebug`).

На данном этапе мы не добавляем блок `artifacts`. Наша цель — просто убедиться, что задачи выполняются. Если анализатор найдет ошибку, соответствующая задача провалится, и весь пайплайн остановится. Это базовый Quality Gate.

== Изменения в `.gitlab-ci.yml`

[source,diff]
----
pmd:
  stage: analyse
  script:
    - ./gradlew app:pmdDebug

checkstyle:
  stage: analyse
  script:
    - ./gradlew app:checkstyleDebug

android_lint:
  stage: analyse
  script:
    - ./gradlew app:lintDebug
----