= Урок 2: Стадия `.pre` для подготовки

В GitLab CI стадии (`stages`) выполняются последовательно. Однако существует специальная стадия `.pre`, которая *всегда выполняется самой первой*, независимо от ее положения в списке.

== Зачем нужна стадия `.pre`?

Мы используем `.pre` для задач, которые должны быть выполнены до начала любой основной работы. Идеальный кандидат для этой стадии — задача по загрузке и кэшированию зависимостей.

Выполняя эту задачу в самом начале, мы гарантируем, что все последующие стадии (анализ, тесты, сборка) будут иметь доступ к уже загруженным зависимостям, что значительно ускорит их выполнение.

== Изменения в `.gitlab-ci.yml`

Мы просто добавляем `.pre` в начало списка `stages`.

[source,diff]
---- 
 stages:
  - .pre
  - analyse
   - module_tests
   - build
   - integration_tests
----