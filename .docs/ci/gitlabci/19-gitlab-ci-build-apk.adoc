= Урок 6: Сборка приложения

После того как все проверки качества и тесты пройдены, можно приступать к сборке приложения. Для этого мы добавим задачу `build`.

== Что делает эта задача?

*   *`stage: build`*: Задача выполняется на стадии `build`, которая идет после `module_tests`.
*   *`needs: ["unit_tests"]`*: Мы явно указываем, что сборка может начаться только после успешного завершения `unit_tests`. Это логичная зависимость: нет смысла собирать приложение, если тесты не прошли.
*   *`script: - ./gradlew assembleDebug`*: Команда для сборки debug-версии APK.

На этом шаге мы просто собираем APK, но пока не сохраняем его.

== Изменения в `.gitlab-ci.yml`

[source,diff]
----
build:
  stage: build
  needs: ["unit_tests"] # Сборка зависит только от успешных unit-тестов
  script:
    - ./gradlew assembleDebug
----